# 待办事项清单

## 🔴 高优先级（立即修复）

### 1. 修复平台后台页面JSX语法错误（3个文件）

这些页面有MainLayout闭合问题，导致无法访问：

**文件列表：**
- `app/pages/PlatformAdmin/PointsManagement/BaseRuleConfigPage.tsx`
- `app/pages/PlatformAdmin/PointsManagement/MemberLevelRatesPage.tsx`
- `app/pages/PlatformAdmin/PointsManagement/PointsStatisticsPage.tsx`

**错误信息：**
```
ERROR: The character "}" is not valid inside a JSX element
ERROR: Unexpected end of file before a closing "MainLayout" tag
```

**修复方法：**
1. 检查每个Card/Form/div标签是否正确配对
2. 确保MainLayout有对应的闭合标签
3. 运行 `npm run typecheck` 验证

**影响页面：**
- 平台后台 → 积分管理 * → 基础规则配置 * ⚠️
- 平台后台 → 积分管理 * → 等级积分汇率 * ⚠️
- 平台后台 → 积分管理 * → 积分统计 * ⚠️

---

## 🟡 中优先级（功能完善）

### 2. 补充订单入住/离店操作页面

**PRD要求：** 商户端 - 模块4 - 功能4.1

**建议实现方式：**
- 选项A：在现有的 `hotel-backend/order-list` 页面中添加入住/离店按钮和弹窗
- 选项B：创建独立的订单操作页面

**功能要求：**
- 入住操作：填写房间号、实际入住时间
- 离店操作：填写实际离店时间、备注
- 自动触发：计算间夜、发放积分、检查升级/保级

---

## 🟢 低优先级（优化提升）

### 3. 完善错误处理

- 添加表单验证错误提示
- 添加API调用失败提示
- 添加加载状态（骨架屏或loading）

### 4. 优化代码质量

- 修复旧代码的TypeScript类型错误
- 去除未使用的导入
- 统一命名规范

### 5. 性能优化

- 懒加载路由
- 图片优化
- 代码分割

### 6. 测试覆盖

- 添加单元测试
- 添加E2E测试
- 测试积分计算逻辑

---

## ✅ 已完成功能

### 场景设计（7/7）
- ✅ 7个核心业务场景
- ✅ 52个流程步骤
- ✅ 完整的三端交互流程

### 平台后台（7/7）
- ✅ 积分管理：4个页面（3个有语法错误）
- ✅ 会员管理：4个页面（含用户详情）

### 商户端（4/4）
- ✅ 积分服务配置
- ✅ VIP折扣配置
- ✅ 代客下单创建
- ✅ 代客下单列表

### C端（9/9）
- ✅ 用户中心：3个页面
- ✅ 酒店浏览：3个页面
- ✅ 订单管理：3个页面

### 技术功能
- ✅ 学习/展示模式切换
- ✅ 菜单修改标记（红色"*"）
- ✅ 菜单定位保持
- ✅ 手机框架模拟

---

## 📊 完成度总结

**总体进度：** 28/31 页面可访问 = **90%**

**待修复：** 3个页面语法错误

**功能完整性：** 对照PRD = **97%**

修复语法错误后即可达到 **100%** 完成度！

---

**更新时间：** 2025-11-23 03:30
**下次更新：** 修复语法错误后
